## 数值与编码

高级语言中使用数据结构等结构化数据。

对于低级语言程序员和硬件系统设计者而言，是使用二进制等编码方式。

> 计算机内部所有信息都用二进制进行编码，原因是
>
> - 制造二个稳定态的物理器件容易(电位高/低，脉冲有/无，正/负极)
> - 二进制编码、计数、运算规则简单
> - 正好与逻辑命题真/假对应，便于逻辑运算
> - 可方便地用逻辑电路实现算术运算

**真值和机器数**

机器数是用0和1编码的计算机内部的0/1序列

真值：真正的值，是现实中带正负号的数。

**数值数据表示的三要素**

进位计数制：十进制、二进制（B)、八进制（O）十六进制( H、0x)。

定/浮点表示：解决小数点位置。

定点数的编码：原码，补码，反码，移码。（解决正负号问题）

> 现代计算机系统多用十六进制表示机器数，方便表示。
>
> 定点小数用来表示浮点数的尾数部分。
>
> 定点整数用来表示整数，分带符号和无符号整数。
>
> 一个浮点数可以由定点整数表示整数部分，再用一个定点小数表示小数部分，转化为求两个定点数的问题。

### 定点数的编码表示

**真值与机器数**

X是真值，[X]<sub>补</sub>是机器数。

**原码表示**

“正”号用0表示。“负”号用1表示。数值部分不变。

**移码表示**

将每一个数值加上一个偏置常数（bias)。

通常，当编码位数为n时，bias取 2<sup>n-1</sup> 或 2<sup>n-1</sup>-1。

> 用移码表示指数（阶码）
>
> 便于浮点数加减运算时对阶数的操作

**补码表示**

一个负数的补码等于**模减该负数的绝对值**。(负数的各位取反，末尾加1)

对于某一确定的模，某数减去小于模的另一数，总可 以用该数加上另一数负数的补码来代替。

正数的补码是本身，负数的补码是各位取反加1。

![image-20221126153811720](http://pic.shixiaocaia.fun/202211261538407.png)

**变形补码**

双符号，用于存放可能溢出的中间结果。

这样可以保留符号位和最高数值位。不然可能最高数值位和符号位冲突。

### C语言中的整数

机器中字的位排列顺序有两种方式：从高到低的从左到右和从右到左。

用LSB（Least Significant Bit)来表示最低有效位，用MSB来表示最高有效位。

一般用于**地址运算、编号表示**等。

**带符号整数**

所有计算机都用**补码**来表示**带符号整数**。

> 1. 补码运算系统是模运算系统，加、减运算统一。
> 2. 数0的表示唯一，方便使用。
> 3. 比原码多表示一个最小负数。

常在一个数后面加一个"u"或者“U"表示无符号数。

若同时有无符号和带符号整数，则C编译器将带符号整数强制转换为无符号数。

在C语言程序中整数的比较是通过转换为机器数形式比较。

