## union

联合（union）是一种节省空间的特殊的类，一个 union 可以有多个数据成员，但是在任意时刻**只有一个数据成员可以有值**。当某个成员被赋值后其他成员变为未定义状态。联合有如下特点：

- 默认访问控制符为 public
- 可以含有构造函数、析构函数
- 不能含有引用类型的成员
- 不能继承自其他类，不能作为基类
- 不能含有虚函数
- 匿名 union 在定义所在作用域可直接访问 union 成员
- 匿名 union 不能包含 protected 成员或 private 成员
- 全局匿名联合必须是静态（static）的

## 类的大小计算

- 空类的大小为1。
- 静态数据成员被编译器放在程序的一个global data members中，它是类的一个数据成员，但不影响类的大小。
- 一个类中，虚函数本身、成员函数（包括静态与非静态）和静态数据成员都是不占用类对象的存储空间。
- 对于包含虚函数的类，不管有多少个虚函数，只有一个虚指针,vptr的大小。
- 普通继承，派生类继承了所有基类的函数与成员，要按照字节对齐来计算大小
- 虚函数继承，不管是单继承还是多继承，都是继承了基类的vptr。(32位操作系统4字节，64位操作系统 8字节)！
- 虚继承,继承基类的vptr。

> 1. 计算偏移量从0开始计算；
> 2. 当前元素的偏移从元素自身大小的整数倍开始计算。
> 3. 最后结果一定是结构体中最大基本数据类型的整数倍；

## enum

