## const修饰

![image-20221003225303681](http://pic.shixiaocaia.fun/202210032253762.png)

- 常量对象调用非常量函数会出错。
- const object 只会调用const版本
- non-const object指挥调用non-const版本函数。

## const分配内存情况

- 通过变量间接赋值会分配内存空间
- 对于自定数据类型，比如类对象，那么也会分配内存
- c中const默认为外部连接，c中const默认为内部连接
- 上面两种情况意味着可以通过指针修改对应地址下的Key

**尽量用const 代替define**

- const有类型，可进行编译器类型安全检查。#define无类型，不可进行类型检查。

- const有作用域，而#define不重视作用域，默认定义处到文件结尾。如果定义在指定作用域下有效的常量，那么#define就不能用。

## 顶层const和底层const

```cpp
const int* pInt;
int *const pInt = &someInt;
```

> [!我自己理解]
>
> 我先不看const，第一个首先是一个int型指针，const限制这个指针不可以改变，指向的地址不可以改变。第二个我不看const，是一个指针，但是const加在了变量名前，变量的内容不可以改变。

> 顶层：表示指针本身是个常量。
>
> 底层：表示指针所指向的对象是个常量。

## const**形参和实参**